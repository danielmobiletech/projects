{"ast":null,"code":"import _objectSpread from\"/Users/daniel/Downloads/newjwt/newjwt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/daniel/Downloads/newjwt/newjwt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createRef}from\"react\";import{useState}from\"react\";import{useForm}from\"react-hook-form\";import axios from\"axios\";import{useStore,useGetAndSet,store}from'react-context-hook';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var headers={'Content-Type':'application/json',\"Access-Control-Allow-Origin\":\"*\"};function Register(){function Posts(url,objs){axios.post(url,objs,headers).then(function(res){console.log(res.data);setRegistered(true);}).catch(function(e){console.log(e);});}//const [loginstatus,setloginstatus,deleteloginstatus] = useStore('loginstatus');\nvar _useState=useState({name:\"\",email:\"bob@gmail.com\",password:\"\"}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),registered=_useState4[0],setRegistered=_useState4[1];//console.log(store.getState() +\" ddd \");\nvar fullName=/*#__PURE__*/createRef(null);var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,watch=_useForm.watch,errors=_useForm.formState.errors;var onSubmit=function onSubmit(e){e.preventDefault();//setState({...state,name:\"sss\",password:\"sssss\"})\nPosts(\"http://localhost:8089/api/auth/register\",state);};var sends=useNavigate();if(registered==true){sends('/login');}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"main\",{className:\"form-signin\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"img\",{className:\"mb-4\",src:\"/docs/5.1/assets/brand/bootstrap-logo.svg\",alt:\"\",width:\"72\",height:\"57\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"h3 mb-3 fw-normal\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({ref:fullName},register('fullname',{maxLength:15,minLength:3})),{},{className:\"form-control\",id:\"floatingPassword\",placeholder:\"Name\",onChange:function onChange(e){setState(_objectSpread(_objectSpread({},state),{},{name:e.target.value}));console.log(state);}})),/*#__PURE__*/_jsx(\"label\",{for:\"floatingPassword\",children:\"Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"email\"},register(\"email\",{pattern:{value:\"^([a-z]){1,}@([a-z]){3,8}(\\.)([a-z]){3,5}$\",message:\"email\"}})),{},{className:\"form-control\",id:\"floatingInput\",placeholder:\"name@example.com\",onChange:function onChange(e){setState(_objectSpread(_objectSpread({},state),{},{email:e.target.value}));console.log(state);}})),/*#__PURE__*/_jsx(\"label\",{for:\"floatingInput\",children:\"Email address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"password\"},register(\"password\",{required:true,pattern:\"^[a-zA-z]+$/i\"})),{},{className:\"form-control\",id:\"floatingPassword\",placeholder:\"Password\",onChange:function onChange(e){setState(_objectSpread(_objectSpread({},state),{},{password:e.target.value}));console.log(state);}})),/*#__PURE__*/_jsx(\"label\",{for:\"floatingPassword\",children:\"Password\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onSubmit,className:\"w-100 btn btn-lg btn-primary\",type:\"submit\",children:\"Sign in\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-5 mb-3 text-muted\",children:\"\\xA9 2017\\u20132021\"})]})})});}export default Register;","map":{"version":3,"sources":["/Users/daniel/Downloads/newjwt/newjwt/src/pages/Register.js"],"names":["React","createRef","useState","useForm","axios","useStore","useGetAndSet","store","useNavigate","headers","Register","Posts","url","objs","post","then","res","console","log","data","setRegistered","catch","e","name","email","password","state","setState","registered","fullName","register","handleSubmit","watch","errors","formState","onSubmit","preventDefault","sends","maxLength","minLength","target","value","pattern","message","required"],"mappings":"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","sourcesContent":["import React, { createRef } from \"react\";\nimport { useState } from \"react\";\nimport {useForm} from \"react-hook-form\";\nimport axios from \"axios\";\nimport { useStore,useGetAndSet,store} from 'react-context-hook'\nimport {useNavigate} from 'react-router-dom'; \nconst headers = {\n  'Content-Type': 'application/json',\n  \"Access-Control-Allow-Origin\": \"*\"\n}\n\nfunction Register()\n{\n\n\n  function Posts(url,objs)\n{\n  \n  axios.post(url,objs,headers)\n  .then((res)=>{console.log(res.data);setRegistered(true)})\n  .catch((e)=>{console.log(e)});\n  \n}\n  //const [loginstatus,setloginstatus,deleteloginstatus] = useStore('loginstatus');\n  \n  const [state,setState]=useState({name:\"\",email:\"bob@gmail.com\",password:\"\"});\n\n  const [registered,setRegistered]=useState(false);\n\n\n\n//console.log(store.getState() +\" ddd \");\n    const fullName=createRef(null);\n    const { register, handleSubmit, watch, formState: { errors } } = useForm();\n\n\n  const onSubmit = (e) => \n  {\n    \n    e.preventDefault();\n    //setState({...state,name:\"sss\",password:\"sssss\"})\n    Posts(\"http://localhost:8089/api/auth/register\",    state )\n   \n  };\n\nlet sends=useNavigate()\n  if(registered==true)\n        {\n          sends('/login')\n        }\n\n    return (<>\n    \n\n    <main className=\"form-signin\">\n    <form onSubmit={onSubmit}>\n      <img className=\"mb-4\" src=\"/docs/5.1/assets/brand/bootstrap-logo.svg\" alt=\"\" width=\"72\" height=\"57\"/>\n      <h1 className=\"h3 mb-3 fw-normal\">Sign Up</h1>\n\n      <div className=\"form-floating\">\n        <input ref={fullName} {...register('fullname',{maxLength:15,minLength:3})} className=\"form-control\" id=\"floatingPassword\" placeholder=\"Name\" onChange={(e)=>{setState({...state,name:e.target.value}); console.log(state);}}/>\n        <label for=\"floatingPassword\">Name</label>\n      </div>\n      <div className=\"form-floating\">\n        <input  type=\"email\" {...register(\"email\",{pattern:{value:\"^([a-z]){1,}@([a-z]){3,8}(\\.)([a-z]){3,5}$\",message:\"email\"}})}className=\"form-control\" id=\"floatingInput\" placeholder=\"name@example.com\" onChange={(e)=>{setState({...state,email:e.target.value}); console.log(state);}}/>\n        <label for=\"floatingInput\">Email address</label>\n      </div>\n      <div className=\"form-floating\">\n        <input type=\"password\"  {...register(\"password\",{required:true,pattern:\"^[a-zA-z]+$/i\"})} className=\"form-control\" id=\"floatingPassword\" placeholder=\"Password\"   onChange={(e)=>{setState({...state,password:e.target.value}); console.log(state);}}/>\n        <label for=\"floatingPassword\">Password</label>\n      </div>\n\n     \n\n     \n      <button onClick={onSubmit} className=\"w-100 btn btn-lg btn-primary\" type=\"submit\">Sign in</button>\n      <p className=\"mt-5 mb-3 text-muted\">© 2017–2021</p>\n    </form>\n  </main>\n    \n    </>);\n} \n\nexport default Register;"]},"metadata":{},"sourceType":"module"}