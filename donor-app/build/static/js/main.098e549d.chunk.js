(this["webpackJsonpdonor-app"]=this["webpackJsonpdonor-app"]||[]).push([[0],{102:function(e,a,t){},103:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},104:function(e,a,t){},134:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(7),o=t.n(l),c=(t(102),t(103),t(104),t(32)),i=t(80),u=t(60),s=t(11),d=t(36),m=t.n(d),f="https://webapireact.azurewebsites.net/api/",b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f+"DonationCandidate/";return{fetchAll:function(){return m.a.get(e)},fetchById:function(a){return m.a.get(e+a)},create:function(a){return m.a.post(e,a)},update:function(a,t){return m.a.put(e+a,t)},delete:function(a){return m.a.delete(e+a)}}},p="CREATE",E="UPDATE",v="DELETE",h="FETCH_ALL",g=function(e){return Object(s.a)(Object(s.a)({},e),{},{age:parseInt(e.age?e.age:0)})},O={list:[]},j=Object(c.b)({dCandidate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case h:return Object(s.a)(Object(s.a)({},e),{},{list:Object(u.a)(a.payload)});case p:return Object(s.a)(Object(s.a)({},e),{},{list:[].concat(Object(u.a)(e.list),[a.payload])});case E:return Object(s.a)(Object(s.a)({},e),{},{list:e.list.map((function(e){return e.id==a.payload.id?a.payload:e}))});case v:return Object(s.a)(Object(s.a)({},e),{},{list:e.list.filter((function(e){return e.id!=a.payload}))});default:return e}}}),C=Object(c.d)(j,Object(c.c)(Object(c.a)(i.a))),y=t(30),A=t(27),N=t(51),T=t(176),B=t(171),D=t(177),w=t(178),G=t(179),I=t(180),x=t(181),S=t(182),k=t(183),L=t(139),M=t(4),W=t(175),F=t(137),q=t(143),R=t(140),V=t(185),z=t(138),J=t(45),P=function(e,a,t){var r=Object(n.useState)(e),l=Object(A.a)(r,2),o=l[0],c=l[1],i=Object(n.useState)({}),u=Object(A.a)(i,2),d=u[0],m=u[1];return{values:o,setValues:c,errors:d,setErrors:m,handleInputChange:function(e){var t=e.target,n=t.name,r=t.value,l=Object(J.a)({},n,r);c(Object(s.a)(Object(s.a)({},o),l)),a(l)},resetForm:function(){c(Object(s.a)({},e)),m({}),t(0)}}},$=t(28),H={fullName:"",mobile:"",email:"",age:"",bloodGroup:"",address:""},U={createDCandidate:function(e,a){return function(t){e=g(e),b().create(e).then((function(e){t({type:p,payload:e.data}),a()})).catch((function(e){return console.log(e)}))}},updateDCandidate:function(e,a,t){return function(n){a=g(a),b().update(e,a).then((function(r){n({type:E,payload:Object(s.a)({id:e},a)}),t()})).catch((function(e){return console.log(e)}))}}},_=Object(y.b)((function(e){return{dCandidateList:e.dCandidate.list}}),U)(Object(M.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),minWidth:230}},formControl:{margin:e.spacing(1),minWidth:230},smMargin:{margin:e.spacing(1)}}}))((function(e){var a=e.classes,t=Object(N.a)(e,["classes"]),l=Object($.useToasts)().addToast,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=Object(s.a)({},d);if("fullName"in e&&(a.fullName=e.fullName?"":"This field is required."),"mobile"in e&&(a.mobile=e.mobile?"":"This field is required."),"bloodGroup"in e&&(a.bloodGroup=e.bloodGroup?"":"This field is required."),"email"in e&&(a.email=/^$|.+@.+..+/.test(e.email)?"":"Email is not valid."),m(Object(s.a)({},a)),e==i)return Object.values(a).every((function(e){return""==e}))},c=P(H,o,t.setCurrentId),i=c.values,u=c.setValues,d=c.errors,m=c.setErrors,f=c.handleInputChange,b=c.resetForm,p=r.a.useRef(null),E=r.a.useState(0),v=Object(A.a)(E,2),h=v[0],g=v[1];r.a.useEffect((function(){g(p.current.offsetWidth)}),[]);return Object(n.useEffect)((function(){0!=t.currentId&&(u(Object(s.a)({},t.dCandidateList.find((function(e){return e.id==t.currentId})))),m({}))}),[t.currentId]),r.a.createElement("form",{autoComplete:"off",noValidate:!0,className:a.root,onSubmit:function(e){if(e.preventDefault(),o()){var a=function(){b(),l("Submitted successfully",{appearance:"success"})};0==t.currentId?t.createDCandidate(i,a):t.updateDCandidate(t.currentId,i,a)}}},r.a.createElement(B.a,{container:!0},r.a.createElement(B.a,{item:!0,xs:6},r.a.createElement(W.a,Object.assign({name:"fullName",variant:"outlined",label:"Full Name",value:i.fullName,onChange:f},d.fullName&&{error:!0,helperText:d.fullName})),r.a.createElement(W.a,Object.assign({name:"email",variant:"outlined",label:"Email",value:i.email,onChange:f},d.email&&{error:!0,helperText:d.email})),r.a.createElement(F.a,Object.assign({variant:"outlined",className:a.formControl},d.bloodGroup&&{error:!0}),r.a.createElement(q.a,{ref:p},"Blood Group"),r.a.createElement(R.a,{name:"bloodGroup",value:i.bloodGroup,onChange:f,labelWidth:h},r.a.createElement(V.a,{value:""},"Select Blood Group"),r.a.createElement(V.a,{value:"A+"},"A +ve"),r.a.createElement(V.a,{value:"A-"},"A -ve"),r.a.createElement(V.a,{value:"B+"},"B +ve"),r.a.createElement(V.a,{value:"B-"},"B -ve"),r.a.createElement(V.a,{value:"AB+"},"AB +ve"),r.a.createElement(V.a,{value:"AB-"},"AB -ve"),r.a.createElement(V.a,{value:"O+"},"O +ve"),r.a.createElement(V.a,{value:"O-"},"O -ve")),d.bloodGroup&&r.a.createElement(z.a,null,d.bloodGroup))),r.a.createElement(B.a,{item:!0,xs:6},r.a.createElement(W.a,Object.assign({name:"mobile",variant:"outlined",label:"Mobile",value:i.mobile,onChange:f},d.mobile&&{error:!0,helperText:d.mobile})),r.a.createElement(W.a,{name:"age",variant:"outlined",label:"Age",value:i.age,onChange:f}),r.a.createElement(W.a,{name:"address",variant:"outlined",label:"Address",value:i.address,onChange:f}),r.a.createElement("div",null,r.a.createElement(L.a,{variant:"contained",color:"primary",type:"submit",className:a.smMargin},"Submit"),r.a.createElement(L.a,{variant:"contained",className:a.smMargin,onClick:b},"Reset")))))}))),K=t(88),Q=t.n(K),X=t(89),Y=t.n(X),Z={fetchAllDCandidates:function(){return function(e){b().fetchAll().then((function(a){e({type:h,payload:a.data})})).catch((function(e){return console.log(e)}))}},deleteDCandidate:function(e,a){return function(t){b().delete(e).then((function(n){t({type:v,payload:e}),a()})).catch((function(e){return console.log(e)}))}}},ee=Object(y.b)((function(e){return{dCandidateList:e.dCandidate.list}}),Z)(Object(M.a)((function(e){return{root:{"& .MuiTableCell-head":{fontSize:"1.25rem"}},paper:{margin:e.spacing(2),padding:e.spacing(2)}}}))((function(e){var a=e.classes,t=Object(N.a)(e,["classes"]),l=Object(n.useState)(0),o=Object(A.a)(l,2),c=o[0],i=o[1];Object(n.useEffect)((function(){t.fetchAllDCandidates()}),[]);var u=Object($.useToasts)().addToast;return r.a.createElement(T.a,{className:a.paper,elevation:3},r.a.createElement(B.a,{container:!0},r.a.createElement(B.a,{item:!0,xs:6},r.a.createElement(_,{currentId:c,setCurrentId:i})),r.a.createElement(B.a,{item:!0,xs:6},r.a.createElement(D.a,null,r.a.createElement(w.a,null,r.a.createElement(G.a,{className:a.root},r.a.createElement(I.a,null,r.a.createElement(x.a,null,"Name"),r.a.createElement(x.a,null,"Mobile"),r.a.createElement(x.a,null,"Blood Group"),r.a.createElement(x.a,null))),r.a.createElement(S.a,null,t.dCandidateList.map((function(e,a){return r.a.createElement(I.a,{key:a,hover:!0},r.a.createElement(x.a,null,e.fullName),r.a.createElement(x.a,null,e.mobile),r.a.createElement(x.a,null,e.bloodGroup),r.a.createElement(x.a,null,r.a.createElement(k.a,{variant:"text"},r.a.createElement(L.a,null,r.a.createElement(Q.a,{color:"primary",onClick:function(){i(e.id)}})),r.a.createElement(L.a,null,r.a.createElement(Y.a,{color:"secondary",onClick:function(){return a=e.id,void(window.confirm("Are you sure to delete this record?")&&t.deleteDCandidate(a,(function(){return u("Deleted successfully",{appearance:"info"})})));var a}})))))}))))))))}))),ae=t(184);var te=function(){return r.a.createElement(y.a,{store:C},r.a.createElement($.ToastProvider,{autoDismiss:!0},r.a.createElement(ae.a,{maxWidth:"lg"},r.a.createElement(ee,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},97:function(e,a,t){e.exports=t(134)}},[[97,1,2]]]);
//# sourceMappingURL=main.098e549d.chunk.js.map