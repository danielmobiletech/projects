{"ast":null,"code":"var _jsxFileName = \"/Users/daniel/Documents/ReactStore/reactstore/src/Context.js\";\nimport React from 'react';\nimport { storeProducts, detailProduct } from '../files/data';\nconst ProductContext = React.createContext();\nconst ProductConsumer = ProductContext.Consumer;\nexport { ProductProvider, ProductConsumer };\n\nfunction ProductProvider() {\n  const [prod, setProd] = useState({\n    products: [],\n    detailProd: detailProduct,\n    cart: storeProducts,\n    modalOpen: false,\n    modalProduct: detailProduct,\n    cartSubTotal: 0,\n    cartTax: 0,\n    cartTotal: 0\n  });\n  useEffect(() => setProducts());\n\n  let handleDetail = () => {\n    console.log('hello from detail');\n    const product = getItem();\n    setprod({ ...prod,\n      detailProduct: product\n    });\n  };\n\n  let addToCart = id => {\n    let tempProducts = [...prod.products];\n    const index = tempProducts.indexOf(getItem(id));\n    const product = tempProducts[index];\n    product.inCart = true;\n    product.count = 1;\n    const price = product.price;\n    product.total = price;\n    setProd({ ...prod,\n      products: tempProducts,\n      cart: [...prod.cart, product]\n    });\n  };\n\n  let getItem = id => {\n    const product = prod.products.find(item => item.id == id);\n    return product;\n  };\n\n  let setProducts = () => {\n    let tempProducts = [];\n    storeProducts.forEach(item => {\n      const singleItem = { ...item\n      };\n      tempProducts = [...tempProducts, singleItem];\n    });\n    setProd({\n      products: tempProducts\n    });\n  };\n\n  let closeModal = () => {\n    setProd({ ...prod,\n      modalOpen: false\n    });\n  };\n\n  let openModal = id => {\n    const product = getItem(id);\n    setProd({ ...prod,\n      modalProduct: product,\n      modalOpen: true\n    });\n  };\n\n  increment = id => {\n    let tempCart = [...prod.cart];\n    let selectProduct = tempCart.find(x => x.id === id);\n    const index = selectProduct.indexOf(selectProduct);\n    const product = tempCart[index];\n    product.count += 1;\n    product.total = product.count * product.price;\n    setProd({ ...prod,\n      cart: [...tempCart]\n    });\n    addTotals();\n  };\n\n  decrement = id => {\n    let tempCart = [...prod.cart];\n    let selectProduct = tempCart.find(x => x.id === id);\n    const index = selectProduct.indexOf(selectProduct);\n    const product = tempCart[index];\n    product.count -= 1;\n    if (product.count <= 0) removeItem(id);else {\n      product.total = product.count * product.price;\n    }\n    setProd({ ...prod,\n      cart: [...tempCart]\n    });\n    addTotals();\n  };\n\n  removeItem = id => {\n    let tempProducts = [...prod.products];\n    let tempCart = [...prod.cart];\n    tempCart = tempCart.filter(x => {\n      x.id !== id;\n    });\n    const index = tempProduct.indexOf(getItem(id));\n    let removedProduct = tempProducts[index];\n    removedProduct.inCart = false;\n    removedProduct.count = 0;\n    removedProduct.total = 0;\n    setProd({ ...prod,\n      cart: tempCart,\n      products: tempProducts\n    });\n  };\n\n  let clearCart = () => {\n    setProd({ ...prod,\n      cart: []\n    });\n    setProducts();\n    addTotals();\n  };\n\n  let addTotals = () => {\n    let subTotal = 0;\n    prod.cart.map(x => {\n      return subTotal += x.total;\n    });\n    const tempTax = subTotal * 0.1;\n    const tax = parseFloat(tempTax.toFixed(2));\n    const total = subTotal + tax;\n    setProd({ ...prod,\n      cartSubTotal: subTotal,\n      cartTax: tax,\n      cartTotal: total\n    });\n  };\n\n  setProd({ ...prod,\n    products: tempProducts\n  }); //const [detailProducts,setDetailProducts]=useState(detailProduct)\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ProductContext.Provider, {\n    value: { ...prod,\n      handleDetail: this.handleDetail,\n      addToCart: this.addToCart,\n      openModal: this.openModal,\n      closeModal: this.closeModal,\n      increment: increment,\n      decrement: decrement,\n      removeItem: removeItem\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, props.children));\n}","map":{"version":3,"sources":["/Users/daniel/Documents/ReactStore/reactstore/src/Context.js"],"names":["React","storeProducts","detailProduct","ProductContext","createContext","ProductConsumer","Consumer","ProductProvider","prod","setProd","useState","products","detailProd","cart","modalOpen","modalProduct","cartSubTotal","cartTax","cartTotal","useEffect","setProducts","handleDetail","console","log","product","getItem","setprod","addToCart","id","tempProducts","index","indexOf","inCart","count","price","total","find","item","forEach","singleItem","closeModal","openModal","increment","tempCart","selectProduct","x","addTotals","decrement","removeItem","filter","tempProduct","removedProduct","clearCart","subTotal","map","tempTax","tax","parseFloat","toFixed","props","children"],"mappings":"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","sourcesContent":["import React,{} from 'react'\nimport { storeProducts, detailProduct } from '../files/data'\nconst ProductContext = React.createContext()\n\nconst ProductConsumer = ProductContext.Consumer\nexport { ProductProvider, ProductConsumer }\n\nfunction ProductProvider () {\n  const [prod, setProd] = useState({\n    products: [],\n    detailProd: detailProduct,\n    cart: storeProducts,\n    modalOpen: false,\n    modalProduct: detailProduct,\n    cartSubTotal: 0,\n    cartTax: 0,\n    cartTotal: 0\n  })\n  useEffect(() => setProducts())\n\n  let handleDetail = () => {\n    console.log('hello from detail')\n    const product = getItem()\n    setprod({ ...prod, detailProduct: product })\n  }\n\n  let addToCart = id => {\n    let tempProducts = [...prod.products]\n    const index = tempProducts.indexOf(getItem(id))\n    const product = tempProducts[index]\n    product.inCart = true\n    product.count = 1\n    const price = product.price\n    product.total = price\n    setProd({ ...prod, products: tempProducts, cart: [...prod.cart, product] })\n  }\n\n  let getItem = id => {\n    const product = prod.products.find(item => item.id == id)\n    return product\n  }\n  let setProducts = () => {\n    let tempProducts = []\n    storeProducts.forEach(item => {\n      const singleItem = { ...item }\n      tempProducts = [...tempProducts, singleItem]\n    })\n    setProd({ products: tempProducts })\n  }\n  let closeModal = () => {\n    setProd({ ...prod, modalOpen: false })\n  }\n  let openModal = id => {\n    const product = getItem(id)\n    setProd({ ...prod, modalProduct: product, modalOpen: true })\n  }\n  increment = id => {\n    let tempCart = [...prod.cart]\n    let selectProduct = tempCart.find(x => x.id === id)\n    const index = selectProduct.indexOf(selectProduct)\n    const product = tempCart[index]\n    product.count += 1\n    product.total = product.count * product.price\n    setProd({ ...prod, cart: [...tempCart] })\n    addTotals()\n  }\n\n  decrement = id => {\n    let tempCart = [...prod.cart]\n    let selectProduct = tempCart.find(x => x.id === id)\n    const index = selectProduct.indexOf(selectProduct)\n    const product = tempCart[index]\n    product.count -= 1\n    if (product.count <= 0) removeItem(id)\n    else {\n      product.total = product.count * product.price\n    }\n    setProd({ ...prod, cart: [...tempCart] })\n    addTotals()\n  }\n\n  removeItem = id => {\n    let tempProducts = [...prod.products]\n    let tempCart = [...prod.cart]\n    tempCart = tempCart.filter(x => {\n      x.id !== id\n    })\n    const index = tempProduct.indexOf(getItem(id))\n    let removedProduct = tempProducts[index]\n    removedProduct.inCart = false\n    removedProduct.count = 0\n    removedProduct.total = 0\n    setProd({ ...prod, cart: tempCart, products: tempProducts })\n  }\n  let clearCart = () => {\n    setProd({ ...prod, cart: [] })\n    setProducts()\n    addTotals()\n  }\n  let addTotals = () => {\n    let subTotal = 0\n    prod.cart.map(x => {\n      return (subTotal += x.total)\n    })\n    const tempTax = subTotal * 0.1\n    const tax = parseFloat(tempTax.toFixed(2))\n    const total = subTotal + tax\n    setProd({ ...prod, cartSubTotal: subTotal, cartTax: tax, cartTotal: total })\n  }\n\n  setProd({ ...prod, products: tempProducts })\n\n  //const [detailProducts,setDetailProducts]=useState(detailProduct)\n  return (\n    <>\n      <ProductContext.Provider\n        value={{\n          ...prod,\n          handleDetail: this.handleDetail,\n          addToCart: this.addToCart,\n          openModal: this.openModal,\n          closeModal: this.closeModal,\n          increment: increment,\n          decrement: decrement,\n          removeItem: removeItem\n        }}\n      >\n        {props.children}\n      </ProductContext.Provider>\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}