{"ast":null,"code":"var _jsxFileName = \"/Users/daniel/Downloads/newjwt/newjwt/src/pages/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n\n  const [loginstate, setLoginState] = useState({\n    name: '',\n    email: ''\n  });\n  let sends = useNavigate();\n  useEffect(() => {\n    axios.interceptors.response.use(response => {\n      if (response.status === 401) {\n        sends('/login');\n      }\n\n      return response;\n    }); // async()=>\n    // {\n    //await \n\n    try {\n      axios.get('http://localhost:8089/api/auth/user', {\n        withCredentials: true,\n        headers: {\n          \"Access-Control-Allow-Origin\": \"http://localhost:8089\",\n          \"Access-Control-Allow-Credentials\": true\n        }\n      }).catch(e => {\n        console.log(\"no worky\");\n        sends('/login');\n      }).then(res => {\n        if (res.status == 200) setLoginState({ ...res.data\n        });\n      }); //})()\n    } catch (err) {\n      sends('/login');\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Welcome Back \", loginstate.name]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"DAVrhYQTXbl3ulI7NthI2sGNBII=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/daniel/Downloads/newjwt/newjwt/src/pages/Home.js"],"names":["React","useEffect","useState","axios","useNavigate","Home","loginstate","setLoginState","name","email","sends","interceptors","response","use","status","get","withCredentials","headers","catch","e","console","log","then","res","data","err"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,SAAd,EAAwBC,QAAxB,QAAuC,OAAvC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,cAA5B;;AACA,eAAe,SAASC,IAAT,GACf;AAAA;;AACI,QAAM,CAACC,UAAD,EAAYC,aAAZ,IAA4BL,QAAQ,CAAC;AAACM,IAAAA,IAAI,EAAC,EAAN;AAASC,IAAAA,KAAK,EAAC;AAAf,GAAD,CAA1C;AACA,MAAIC,KAAK,GAACN,WAAW,EAArB;AACAH,EAAAA,SAAS,CAAC,MAAI;AAIVE,IAAAA,KAAK,CAACQ,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CAAgCD,QAAQ,IAAI;AACxC,UAAGA,QAAQ,CAACE,MAAT,KAAoB,GAAvB,EAA4B;AAACJ,QAAAA,KAAK,CAAC,QAAD,CAAL;AAAgB;;AAC7C,aAAOE,QAAP;AACH,KAHD,EAJU,CAUN;AACA;AACR;;AACA,QAAG;AACHT,MAAAA,KAAK,CAACY,GAAN,CAAU,qCAAV,EAAgD;AAChDC,QAAAA,eAAe,EAAE,IAD+B;AAEhDC,QAAAA,OAAO,EAAE;AACP,yCAA+B,uBADxB;AAEP,8CAAoC;AAF7B;AAFuC,OAAhD,EAMDC,KANC,CAMMC,CAAD,IAAK;AAACC,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AAEfX,QAAAA,KAAK,CAAC,QAAD,CAAL;AACC,OATG,EAUHY,IAVG,CAUGC,GAAD,IAAO;AAAC,YAAGA,GAAG,CAACT,MAAJ,IAAY,GAAf,EAEVP,aAAa,CAAC,EAAC,GAAGgB,GAAG,CAACC;AAAR,SAAD,CAAb;AAA6B,OAZ7B,EADG,CAuBH;AAGC,KA1BD,CA2BA,OAAMC,GAAN,EAAU;AAENf,MAAAA,KAAK,CAAC,QAAD,CAAL;AACH;AAEJ,GA7CY,CAAT;AAgDA,sBAEA;AAAA,gCACkBJ,UAAU,CAACE,IAD7B;AAAA;AAAA;AAAA;AAAA;AAAA,UAFA;AAOH;;GA3DuBH,I;UAGVD,W;;;KAHUC,I","sourcesContent":["import React,{useEffect,useState} from \"react\";\nimport axios from \"axios\"\nimport { useNavigate } from \"react-router\";\nexport default function Home()\n{\n    const [loginstate,setLoginState]= useState({name:'',email:''});\n    let sends=useNavigate()\n    useEffect(()=>{\n\n\n\n        axios.interceptors.response.use(response => {\n            if(response.status === 401) {sends('/login')}\n            return response;\n        });\n        \n            \n            // async()=>\n            // {\n    //await \n    try{\n    axios.get('http://localhost:8089/api/auth/user',{\n    withCredentials: true,\n    headers: {\n      \"Access-Control-Allow-Origin\": \"http://localhost:8089\",\n      \"Access-Control-Allow-Credentials\": true\n    }})\n  .catch((e)=>{console.log(\"no worky\")\n\nsends('/login')\n})\n.then((res)=>{if(res.status==200)\n    \n    setLoginState({...res.data})})\n\n            \n        \n \n        \n        \n        \n        \n   \n    //})()\n\n\n    }\n    catch(err){\n\n        sends('/login')\n    }\n\n})         \n    \n\n    return( \n    \n    <div>\n        Welcome Back {loginstate.name}\n    </div> \n    \n    );\n}\n"]},"metadata":{},"sourceType":"module"}