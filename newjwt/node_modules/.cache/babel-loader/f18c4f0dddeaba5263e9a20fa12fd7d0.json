{"ast":null,"code":"var _jsxFileName = \"/Users/daniel/Downloads/newjwt/newjwt/src/pages/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n\n  let sends = useNavigate();\n  let denied;\n  axios.interceptors.response.use(response => {\n    if (response.status === 401) {\n      sends('/login');\n    }\n\n    return response;\n  });\n  const [loginstate, setLoginState] = useState({\n    name: '',\n    email: ''\n  });\n  useEffect(() => {\n    // async()=>\n    // {\n    //await \n    try {\n      axios.get('http://localhost:8089/api/auth/user', {\n        withCredentials: true,\n        headers: {\n          \"Access-Control-Allow-Origin\": \"http://localhost:8089\",\n          \"Access-Control-Allow-Credentials\": true\n        }\n      }).catch(e => {\n        console.log(\"no worky\");\n        sends('/login');\n      }).then(res => {\n        if (res.status == 200) setLoginState({ ...res.data\n        });\n      }); //})()\n    } catch (err) {\n      sends('/login');\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Welcome Back \", loginstate.name]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"Z9iZ9Fi6SVyOjE91cq6KK7/3IF0=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/daniel/Downloads/newjwt/newjwt/src/pages/Home.js"],"names":["React","useEffect","useState","axios","useNavigate","Home","sends","denied","interceptors","response","use","status","loginstate","setLoginState","name","email","get","withCredentials","headers","catch","e","console","log","then","res","data","err"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,SAAd,EAAwBC,QAAxB,QAAuC,OAAvC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,cAA5B;;AACA,eAAe,SAASC,IAAT,GACf;AAAA;;AACI,MAAIC,KAAK,GAACF,WAAW,EAArB;AACA,MAAIG,MAAJ;AACAJ,EAAAA,KAAK,CAACK,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CAAgCD,QAAQ,IAAI;AACxC,QAAGA,QAAQ,CAACE,MAAT,KAAoB,GAAvB,EAA4B;AAACL,MAAAA,KAAK,CAAC,QAAD,CAAL;AAAiB;;AAC9C,WAAOG,QAAP;AACH,GAHD;AAIA,QAAM,CAACG,UAAD,EAAYC,aAAZ,IAA4BX,QAAQ,CAAC;AAACY,IAAAA,IAAI,EAAC,EAAN;AAASC,IAAAA,KAAK,EAAC;AAAf,GAAD,CAA1C;AAEAd,EAAAA,SAAS,CAAC,MAAI;AAON;AACA;AACR;AACA,QAAG;AACHE,MAAAA,KAAK,CAACa,GAAN,CAAU,qCAAV,EAAgD;AAChDC,QAAAA,eAAe,EAAE,IAD+B;AAEhDC,QAAAA,OAAO,EAAE;AACP,yCAA+B,uBADxB;AAEP,8CAAoC;AAF7B;AAFuC,OAAhD,EAMDC,KANC,CAMMC,CAAD,IAAK;AAACC,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AAEfhB,QAAAA,KAAK,CAAC,QAAD,CAAL;AACC,OATG,EAUHiB,IAVG,CAUGC,GAAD,IAAO;AAAC,YAAGA,GAAG,CAACb,MAAJ,IAAY,GAAf,EAEVE,aAAa,CAAC,EAAC,GAAGW,GAAG,CAACC;AAAR,SAAD,CAAb;AAA6B,OAZ7B,EADG,CAuBH;AAGC,KA1BD,CA2BA,OAAMC,GAAN,EAAU;AAENpB,MAAAA,KAAK,CAAC,QAAD,CAAL;AACH;AAEJ,GA1CY,CAAT;AA6CA,sBAEA;AAAA,gCACkBM,UAAU,CAACE,IAD7B;AAAA;AAAA;AAAA;AAAA;AAAA,UAFA;AAOH;;GA9DuBT,I;UAEVD,W;;;KAFUC,I","sourcesContent":["import React,{useEffect,useState} from \"react\";\nimport axios from \"axios\"\nimport { useNavigate } from \"react-router\";\nexport default function Home()\n{\n    let sends=useNavigate()\n    let denied\n    axios.interceptors.response.use(response => {\n        if(response.status === 401) {sends('/login');}\n        return response;\n    });\n    const [loginstate,setLoginState]= useState({name:'',email:''});\n    \n    useEffect(()=>{\n\n\n\n        \n        \n            \n            // async()=>\n            // {\n    //await \n    try{\n    axios.get('http://localhost:8089/api/auth/user',{\n    withCredentials: true,\n    headers: {\n      \"Access-Control-Allow-Origin\": \"http://localhost:8089\",\n      \"Access-Control-Allow-Credentials\": true\n    }})\n  .catch((e)=>{console.log(\"no worky\")\n\nsends('/login')\n})\n.then((res)=>{if(res.status==200)\n    \n    setLoginState({...res.data})})\n\n            \n        \n \n        \n        \n        \n        \n   \n    //})()\n\n\n    }\n    catch(err){\n\n        sends('/login')\n    }\n\n})         \n    \n\n    return( \n    \n    <div>\n        Welcome Back {loginstate.name}\n    </div> \n    \n    );\n}\n"]},"metadata":{},"sourceType":"module"}